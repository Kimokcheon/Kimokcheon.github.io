<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Linux操作 | Yuchuan&#39;s Blog</title>

<link rel="shortcut icon" href="https://kimokcheon.github.io//favicon.ico?v=1695778991029">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://kimokcheon.github.io//styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            Yuchuan&#39;s Blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://kimokcheon.github.io/post/about-me" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1695778991029" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Linux操作
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2023-06-27 ·
                    </time>
                    
                </div>
                <div class="post-content">
                    <h3 id="快捷键">快捷键</h3>
<ul>
<li>Tab: 命令和文件名补全；</li>
<li>Ctrl+C: 中断正在运行的程序；</li>
<li>Ctrl+D: 结束键盘输入(End Of File，EOF)</li>
</ul>
<h3 id="vim-三个模式">VIM 三个模式</h3>
<ul>
<li>一般指令模式(Command mode): VIM 的默认模式，可以用于移动游标查看内容；</li>
<li>编辑模式(Insert mode): 按下 &quot;i&quot; 等按键之后进入，可以对文本进行编辑；</li>
<li>指令列模式(Bottom-line mode): 按下 &quot;:&quot; 按键之后进入，用于保存退出等操作。</li>
<li>在指令列模式下，有以下命令用于离开或者保存文件。</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>:w</td>
<td>写入磁盘</td>
</tr>
<tr>
<td>:w!</td>
<td>当文件为只读时，强制写入磁盘。到底能不能写入，与用户对该文件的权限有关</td>
</tr>
<tr>
<td>:q</td>
<td>离开</td>
</tr>
<tr>
<td>:q!</td>
<td>强制离开不保存</td>
</tr>
<tr>
<td>:wq</td>
<td>写入磁盘后离开</td>
</tr>
<tr>
<td>:wq!</td>
<td>强制写入磁盘后离开</td>
</tr>
</tbody>
</table>
<h3 id="文件与目录的基本操作">¶ 文件与目录的基本操作</h3>
<h4 id="1-ls">¶ 1. ls</h4>
<p>列出文件或者目录的信息，目录的信息就是其中包含的文件。</p>
<pre><code class="language-shell">## ls [-aAdfFhilnrRSt] file|dir

-a : 列出全部的文件

-d : 仅列出目录本身

-l : 以长数据串行列出，包含文件的属性与权限等等数据
</code></pre>
<h4 id="2-cd-更换当前目录">2. cd 更换当前目录。</h4>
<pre><code class="language-shell">cd [相对路径或绝对路径]
</code></pre>
<h4 id="3-mkdir-创建目录">¶ 3. mkdir 创建目录。</h4>
<pre><code class="language-shell">## mkdir [-mp] 目录名称

-m : 配置目录权限

-p : 递归创建目录
</code></pre>
<h4 id="4-rmdir-删除目录目录必须为空">¶ 4. rmdir 删除目录，目录必须为空。</h4>
<pre><code class="language-shell">rmdir [-p] 目录名称
-p : 递归删除目录
</code></pre>
<h4 id="5-touch-更新文件时间或者建立新文件">¶ 5. touch 更新文件时间或者建立新文件。</h4>
<pre><code class="language-shell">## touch [-acdmt] filename
-a :  更新 atime
-c :  更新 ctime，若该文件不存在则不建立新文件
-m :  更新 mtime
-d :  后面可以接更新日期而不使用当前日期，也可以使用 --date=&quot;日期或时间&quot;
-t :  后面可以接更新时间而不使用当前时间，格式为[YYYYMMDDhhmm]
</code></pre>
<h4 id="6-cp">¶ 6. cp</h4>
<p>复制文件。 如果源文件有两个以上，则目的文件一定要是目录才行。</p>
<pre><code class="language-shell">cp [-adfilprsu] source destination
-a : 相当于 -dr --preserve=all 的意思，至于 dr 请参考下列说明
-d : 若来源文件为链接文件，则复制链接文件属性而非文件本身
-i : 若目标文件已经存在时，在覆盖前会先询问
-p : 连同文件的属性一起复制过去
-r : 递归持续复制
-u : destination 比 source 旧才更新 destination，或 destination 不存在的情况下才复制
--preserve=all : 除了 -p 的权限相关参数外，还加入 SELinux 的属性, links, xattr 等也复制了
</code></pre>
<h4 id="7-rm-删除文件">¶ 7. rm 删除文件。</h4>
<pre><code class="language-shell">## rm [-fir] 文件或目录
-r : 递归删除
</code></pre>
<h4 id="8-mv">¶ 8. mv</h4>
<p>移动文件。</p>
<pre><code class="language-shell">## mv [-fiu] source destination
## mv [options] source1 source2 source3 .... directory
-f :  force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖
</code></pre>
<h3 id="获取文件内容">¶ 获取文件内容</h3>
<h4 id="1-cat-取得文件内容">¶ 1. cat 取得文件内容。</h4>
<pre><code class="language-shell">## cat [-AbEnTv] filename
-n : 打印出行号，连同空白行也会有行号，-b 不会
</code></pre>
<h4 id="2-tac-是-cat-的反向操作从最后一行开始打印">¶ 2. tac 是 cat 的反向操作，从最后一行开始打印。</h4>
<h4 id="3-more-和-cat-不同的是它可以一页一页查看文件内容比较适合大文件的查看">¶ 3. more 和 cat 不同的是它可以一页一页查看文件内容，比较适合大文件的查看。</h4>
<h4 id="4-less-和-more-类似但是多了一个向前翻页的功能">¶ 4. less 和 more 类似，但是多了一个向前翻页的功能。</h4>
<h4 id="5-head-取得文件前几行">¶ 5. head 取得文件前几行。</h4>
<pre><code class="language-shell">## head [-n number] filename
-n : 后面接数字，代表显示几行的意思
</code></pre>
<h4 id="6-tail-是-head-的反向操作只是取得是后几行">¶ 6. tail 是 head 的反向操作，只是取得是后几行。</h4>
<h4 id="7-od-以字符或者十六进制的形式显示二进制文件">¶ 7. od 以字符或者十六进制的形式显示二进制文件。</h4>
<h3 id="指令与文件搜索">¶ 指令与文件搜索</h3>
<h4 id="1-which">¶ 1. which</h4>
<p>指令搜索。</p>
<pre><code class="language-shell">## which [-a] command
-a : 将所有指令列出，而不是只列第一个
</code></pre>
<h4 id="2-whereis">¶ 2. whereis</h4>
<p>文件搜索。速度比较快，因为它只搜索几个特定的目录。 ## whereis [-bmsu] dirname/filename</p>
<h4 id="3-locate">¶ 3. locate</h4>
<p>文件搜索。可以用关键字或者正则表达式进行搜索。 locate 使用 /var/lib/mlocate/ 这个数据库来进行搜索，它存储在内存中，并且每天更新一次，所以无法用 locate 搜索新建的文件。可以使用 updatedb 来立即更新数据库。</p>
<pre><code class="language-shell">## locate [-ir] keyword
-r: 正则表达式
</code></pre>
<h4 id="4-find">¶ 4. find</h4>
<p>文件搜索。可以使用文件的属性和权限进行搜索。</p>
<pre><code class="language-shell">## find [basedir] [option]
example: find . -name &quot;shadow*&quot;
</code></pre>
<h2 id="压缩与打包">压缩与打包</h2>
<h3 id="压缩文件名">¶ 压缩文件名</h3>
<p>Linux 底下有很多压缩文件名，常见的如下:</p>
<table>
<thead>
<tr>
<th>扩展名</th>
<th>压缩程序</th>
</tr>
</thead>
<tbody>
<tr>
<td>.Z</td>
<td>compress</td>
</tr>
<tr>
<td>.zip</td>
<td>zip</td>
</tr>
<tr>
<td>.gz</td>
<td>gzip</td>
</tr>
<tr>
<td>.bz2</td>
<td>bzip2</td>
</tr>
<tr>
<td>.xz</td>
<td>xz</td>
</tr>
<tr>
<td>.tar</td>
<td>tar 程序打包的数据，没有经过压缩</td>
</tr>
<tr>
<td>.tar.gz</td>
<td>tar 程序打包的文件，经过 gzip 的压缩</td>
</tr>
<tr>
<td>.tar.bz2</td>
<td>tar 程序打包的文件，经过 bzip2 的压缩</td>
</tr>
<tr>
<td>.tar.xz</td>
<td>tar 程序打包的文件，经过 xz 的压缩</td>
</tr>
</tbody>
</table>
<h3 id="压缩指令">¶ 压缩指令</h3>
<h4 id="1-gzip">¶ 1. gzip</h4>
<p>gzip 是 Linux 使用最广的压缩指令，可以解开 compress、zip 与 gzip 所压缩的文件。<br>
经过 gzip 压缩过，源文件就不存在了。 有 9 个不同的压缩等级可以使用。 可以使用 zcat、zmore、zless 来读取压缩文件的内容。</p>
<pre><code class="language-shell">$ gzip [-cdtv#] filename
-c : 将压缩的数据输出到屏幕上
-d : 解压缩
-t : 检验压缩文件是否出错
-v : 显示压缩比等信息
-## :  ## 为数字的意思，代表压缩等级，数字越大压缩比越高，默认为 6
</code></pre>
<h4 id="2-bzip2">¶ 2. bzip2</h4>
<p>提供比 gzip 更高的压缩比。 查看命令: bzcat、bzmore、bzless、bzgrep。</p>
<pre><code class="language-shell">$ bzip2 [-cdkzv#] filename
-k : 保留源文件
</code></pre>
<h4 id="3-xz">¶ 3. xz</h4>
<p>提供比 bzip2 更佳的压缩比。 可以看到，gzip、bzip2、xz 的压缩比不断优化。不过要注意的是，压缩比越高，压缩的时间也越长。<br>
查看命令: xzcat、xzmore、xzless、xzgrep。</p>
<pre><code class="language-shell">$ xz [-dtlkc#] filename
</code></pre>
<h3 id="打包">¶ 打包</h3>
<p>压缩指令只能对一个文件进行压缩，而打包能够将多个文件打包成一个大文件。tar 不仅可以用于打包，也可以使用 gip、bzip2、xz 将打包文件进行压缩。</p>
<pre><code class="language-shell">$ tar [-z|-j|-J] [cv] [-f 新建的 tar 文件] filename...  ==打包压缩
$ tar [-z|-j|-J] [tv] [-f 已有的 tar 文件]              ==查看
$ tar [-z|-j|-J] [xv] [-f 已有的 tar 文件] [-C 目录]    ==解压缩
-z : 使用 zip；
-j : 使用 bzip2；
-J : 使用 xz；
-c : 新建打包文件；
-t : 查看打包文件里面有哪些文件；
-x : 解打包或解压缩的功能；
-v : 在压缩/解压缩的过程中，显示正在处理的文件名；
-f : filename: 要处理的文件；
-C 目录 :  在特定目录解压缩。
</code></pre>
<table>
<thead>
<tr>
<th>使用方式</th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>打包压缩</td>
<td>tar -jcv -f filename.tar.bz2 要被压缩的文件或目录名称</td>
</tr>
<tr>
<td>查 看</td>
<td>tar -jtv -f filename.tar.bz2</td>
</tr>
<tr>
<td>解压缩</td>
<td>tar -jxv -f filename.tar.bz2 -C 要解压缩的目录</td>
</tr>
</tbody>
</table>
<h2 id="正则表达式">正则表达式</h2>
<h3 id="grep">¶ grep</h3>
<p>g/re/p(globally search a regular expression and print)，使用正则表示式进行全局查找并打印。</p>
<pre><code class="language-shell">$ grep [-acinv] [--color=auto] 搜寻字符串 filename
-c :  统计个数
-i :  忽略大小写
-n :  输出行号
-v :  反向选择，也就是显示出没有 搜寻字符串 内容的那一行
--color=auto : 找到的关键字加颜色显示
</code></pre>
<ul>
<li>示例: 把含有 the 字符串的行提取出来(注意默认会有 --color=auto 选项，因此以下内容在 Linux 中有颜色显示 the 字符串)</li>
</ul>
<pre><code class="language-shell">$ grep -n 'the' regular_express.txt
8:I can't finish the test.
12:the symbol '*' is represented as start.
15:You are the best is mean you are the no. 1.
16:The world Happy is the same with &quot;glad&quot;.
18:google is the best tools for search keyword
</code></pre>
<p>因为 { 和 } 在 shell 是有特殊意义的，因此必须要使用转义字符进行转义。</p>
<pre><code class="language-shell">$ grep -n 'go\{2,5\}g' regular_express.txt
</code></pre>
<h4 id="printf">¶ printf</h4>
<p>用于格式化输出。 它不属于管道命令，在给 printf 传数据时需要使用 $( ) 形式。</p>
<pre><code class="language-shell">$ printf '%10s %5i %5i %5i %8.2f \n' $(cat printf.txt)
    DmTsai    80    60    92    77.33
     VBird    75    55    80    70.00
       Ken    60    90    70    73.33
</code></pre>
<h4 id="awk">¶ awk</h4>
<p>是由 Alfred Aho，Peter Weinberger, 和 Brian Kernighan 创造，awk 这个名字就是这三个创始人名字的首字母。<br>
awk 每次处理一行，处理的最小单位是字段，每个字段的命名方式为: $n，n 为字段号，从 1 开始，$0 表示一整行。<br>
示例: 取出登录用户的用户名和 IP</p>
<pre><code class="language-shell">$ last -n 5
dmtsai pts/0 192.168.1.100 Tue Jul 14 17:32 still logged in
dmtsai pts/0 192.168.1.100 Thu Jul 9 23:36 - 02:58 (03:22)
dmtsai pts/0 192.168.1.100 Thu Jul 9 17:23 - 23:36 (06:12)
dmtsai pts/0 192.168.1.100 Thu Jul 9 08:02 - 08:17 (00:14)
dmtsai tty1 Fri May 29 11:55 - 12:11 (00:15)
$ last -n 5 | awk '{print $1 &quot;\t&quot; $3}'
</code></pre>
<p>可以根据字段的某些条件进行匹配，例如匹配字段小于某个值的那一行数据。</p>
<pre><code class="language-shell">$ awk '条件类型 1 {动作 1} 条件类型 2 {动作 2} ...' filename
</code></pre>
<p>示例: /etc/passwd 文件第三个字段为 UID，对 UID 小于 10 的数据进行处理。</p>
<pre><code class="language-shell">$ cat /etc/passwd | awk 'BEGIN {FS=&quot;:&quot;} $3 &lt; 10 {print $1 &quot;\t &quot; $3}'
root 0
bin 1
daemon 2
</code></pre>
<p>awk 变量: 变量名称 代表意义 NF 每一行拥有的字段总数 NR 目前所处理的是第几行数据 FS 目前的分隔字符，默认是空格键 示例: 显示正在处理的行号以及每一行有多少字段</p>
<pre><code class="language-shell">$ last -n 5 | awk '{print $1 &quot;\t lines: &quot; NR &quot;\t columns: &quot; NF}'
dmtsai lines: 1 columns: 10
dmtsai lines: 2 columns: 10
dmtsai lines: 3 columns: 10
dmtsai lines: 4 columns: 10
dmtsai lines: 5 columns: 9
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://kimokcheon.github.io/post/mian-xiang-dui-xiang-zhi-shi-dian/" class="post-title gt-a-link">
                    面向对象知识点
                </a>
            </div>
        

        

        

        
            <script src='https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: '',
		appKey: '',
		avatar: '',
		pageSize: 5,
		recordIp: false,
		placeholder: 'Just Go Go',
		visitor: false,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">他们都是萤火，聚在一起就成了太阳</div>
    <div class="social-container">
        
            
                <a href="https://github.com/Kimokcheon" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
                <a href="https://www.zhihu.com/people/deng-yu-chuan-4" target="_blank">
                    <i class="fab fa-zhihu gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://kimokcheon.github.io//atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
