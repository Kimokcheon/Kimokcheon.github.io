<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Git 随记 | Yuchuan&#39;s Blog</title>

<link rel="shortcut icon" href="https://kimokcheon.github.io//favicon.ico?v=1695778991029">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://kimokcheon.github.io//styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            Yuchuan&#39;s Blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://kimokcheon.github.io/post/about-me" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1695778991029" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Git 随记
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2023-06-26 ·
                    </time>
                    
                </div>
                <div class="post-content">
                    <pre><code class="language-shell"># 在当前目录新建一个Git代码库 
$ git init 

# 新建一个目录，将其初始化为Git代码库 
$ git init [project-name] 

# 下载远程仓库
$ git clone xxxxxxx 

# 显示当前的Git配置
$ git config --list
  
# 编辑Git配置文件
$ git config -e [--global]
  
# 设置提交代码时的用户信息
$ git config [--global] user.name &quot;[name]&quot;
$ git config [--global] user.email &quot;[email address]&quot;

Config表示告诉git系统你是谁
因为系统可能有多个用户，需要区分开

添加所有文件
# 添加当前目录的所有文件到暂存区
$ git add .

# 添加指定文件到暂存区
$ git add [file1] [file2] ...
    
# 添加指定目录到暂存区，包括子目录
$ git add [dir]
    
# 添加每个变化前，都会要求确认 对于同一个文件的多处变化，可以实现分次提交
$ git add -p

# 删除工作区文件，并且将这次删除放入暂存区
$ git rm [file1] [file2] ...
    
# 停止追踪指定文件，但该文件会保留在工作区
$ git rm --cached [file]
    
# 改名文件，并且将这个改名放入暂存区
$ git mv [file-original] [file-renamed]

Add 是非常重要的，git默认不会上传你的任何文件
Add相当于告诉git系统你哪些文件需要版本管理和上传

# 提交暂存区到仓库区 
$ git commit -m [message] 

# 提交暂存区的指定文件到仓库区 
$ git commit [file1] [file2] ... -m [message] 

# 提交工作区自上次commit之后的变化，直接到仓库区 
$ git commit -a # 提交时显示所有diff信息 
$ git commit -v # 使用一次新的commit，替代上一次提交 

# 如果代码没有任何新变化，则用来改写上一次commit的提交信息 
$ git commit --amend -m [message] 

# 重做上一次commit，并包括指定文件的新变化 
$ git commit --amend [file1] [file2] ... 

Commit的含义是保存一份文件的备份
提交到版本管理系统，但是此时文件还在本地

# 下载远程仓库的所有变动
$ git fetch [remote]
  
# 显示所有远程仓库
$ git remote -v
  
# 显示某个远程仓库的信息
$ git remote show [remote]
   
# 增加一个新的远程仓库，并命名
$ git remote add [shortname] [url]
  
# 取回远程仓库的变化，并与本地分支合并
$ git pull [remote] [branch]
   
# 上传本地指定分支到远程仓库
$ git push [remote] [branch]
  
# 强行推送当前分支到远程仓库，即使有冲突
$ git push [remote] --force
   
# 推送所有分支到远程仓库
$ git push [remote] --all

Pull = fetch + merge

Push就是推送到远程
Commit之后，数据还只是在你电脑上
Push之后才会存到云端
如果不push，电脑坏了代码就GG

每天打开电脑，最先做的事情就是pull
因为你push之后别人可能push过
如果有冲突则必须新建分支然后merge（合并代码）

牢记Git使用流程：
上班---pull---改代码---add---commit/merge—push—下班

# 恢复暂存区的指定文件到工作区 
$ git checkout [file] 

# 恢复某个commit的指定文件到暂存区和工作区 
$ git checkout [commit] [file] 

# 恢复暂存区的所有文件到工作区 $ git checkout . 
# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变 
$ git reset [file] 

# 重置暂存区与工作区，与上一次commit保持一致 
$ git reset --hard

# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变 
$ git reset [commit] 

# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致 
$ git reset --hard [commit] 

# 重置当前HEAD为指定commit，但保持暂存区和工作区不变 
$ git reset --keep [commit] 

# 新建一个commit，用来撤销指定commit 
# 后者的所有变化都将被前者抵消，并且应用到当前分支 
$ git revert [commit] 

# 暂时将未提交的变化移除，稍后再移入 
$ git stash 
$ git stash pop 

git stash [save message]保存，save为可选项，message为本次保存的注释 

git stash list所有保存的记录列表 

git stash pop stash@{num}恢复，num是可选项，通过git stash list可查看具体值。只能恢复一次
 
git stash apply stash@{num}恢复，num是可选项，通过git stash list可查看具体值。可回复多次 

git stash drop stash@{num}删除某个保存，num是可选项，通过git stash list可查看具体值 

git stash clear

查看所有分支：
git branch –a

创建分支命令：
git branch (branchname)

切换分支命令:
git checkout (branchname)

现在，你已经决定要解决你的公司使用的问题追踪系统中的 #53 问题。 想要新建一个分支并同时切换到那个分支上，你可以运行一个带有 -b 参数的 git checkout 命令：

$ git checkout -b iss53
Switched to a new branch &quot;iss53&quot;
它是下面两条命令的简写：

$ git branch iss53
$ git checkout iss53
创建一个新分支指针。

创建一个新分支指针
你继续在 #53 问题上工作，并且做了一些提交。 在此过程中，iss53 分支在不断的向前推进，因为你已经检出到该分支 （也就是说，你的 HEAD 指针指向了 iss53 分支）

$ vim index.html
$ git commit -a -m 'added a new footer [issue 53]'

安装LFS
注意：安装 Git LFS 需要 Git 的版本不低于 1.8.5
Linux
curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash
sudo apt-get install git-lfs
git lfs install

开启lfs功能
$ git lfs install
追踪大文件
$ git lfs track xxx
      
# 例如追踪所有后缀为png的文件
$ git lfs track &quot;*.png“

# 提交文件
$ git commit -m &quot;xxx&quot;
$ git push

# 查看现有的文件追踪模式
$ git lfs track
# 显示当前跟踪的文件列表
$ git lfs ls-files
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://kimokcheon.github.io/post/about-me/" class="post-title gt-a-link">
                    Yuchuan Deng
                </a>
            </div>
        

        

        

        
            <script src='https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: '',
		appKey: '',
		avatar: '',
		pageSize: 5,
		recordIp: false,
		placeholder: 'Just Go Go',
		visitor: false,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">他们都是萤火，聚在一起就成了太阳</div>
    <div class="social-container">
        
            
                <a href="https://github.com/Kimokcheon" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
                <a href="https://www.zhihu.com/people/deng-yu-chuan-4" target="_blank">
                    <i class="fab fa-zhihu gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://kimokcheon.github.io//atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
